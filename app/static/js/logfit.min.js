/*
 * LogFit.js v0.7.0
 */
!function(t){function o(){this.config={},this.setConfigs()}o.version="v0.7.0",o.prototype.setConfigs=function(){this.setConfigWithDefault("source","logfit-test"),this.setConfigWithDefault("ingestEndpoint","https://ingest.log.fit/log")},o.prototype.setConfigWithDefault=function(t,o){"undefined"!=typeof LogFitConfig&&t in LogFitConfig?this.config[t]=LogFitConfig[t]:this.config[t]=o},o.prototype.report=function(){const t=this.generateData();this.post(t)},o.prototype.generateData=function(){const t={};return t.path=window.location.href,t.referrer=document.referrer,t.user_agent=navigator.userAgent,t.user_token=this.getUserToken(),t.logfitjs_version=o.version,btoa(JSON.stringify(t))},o.prototype.post=function(t){const o={source:this.config.source,data:t};this.ajax("POST",this.config.ingestEndpoint,o)},o.prototype.ajax=function(t,o,e){const n=new XMLHttpRequest;n.open(t,o),n.setRequestHeader("Content-Type","application/json"),n.responseType="json";const i=JSON.stringify(e);n.send(i)},o.prototype.getUserToken=function(){function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const o=16*Math.random()|0;return("x"==t?o:3&o|8).toString(16)})}try{let o=localStorage.getItem("logfitToken");return o||(o=t(),localStorage.setItem("logfitToken",o)),o}catch(o){return t()}},(new o).report()}("undefined"==typeof LogFit?LogFit={}:LogFit);
